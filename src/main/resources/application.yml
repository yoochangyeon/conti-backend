spring:
  application:
    name: conti

  # Database
  datasource:
    url: ${DB_URL:jdbc:mysql://localhost:3306/conti?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=Asia/Seoul&characterEncoding=UTF-8}
    username: ${DB_USERNAME:root}
    password: ${DB_PASSWORD:}
    driver-class-name: com.mysql.cj.jdbc.Driver
    hikari:
      maximum-pool-size: 10
      minimum-idle: 5

  # JPA
  jpa:
    hibernate:
      ddl-auto: validate
    properties:
      hibernate:
        dialect: org.hibernate.dialect.MySQLDialect
        format_sql: true
        default_batch_fetch_size: 100
    open-in-view: false
    show-sql: true

  # Flyway
  flyway:
    enabled: true
    locations: classpath:db/migration
    baseline-on-migrate: true

  # Security - permit swagger
  security:
    user:
      name: ${SPRING_SECURITY_USER:admin}
      password: ${SPRING_SECURITY_PASSWORD:admin}

# JWT
jwt:
  secret: ${JWT_SECRET:conti-jwt-secret-key-for-development-minimum-256-bits-long-string-here}
  access-token-expiry: 3600000      # 1시간
  refresh-token-expiry: 1209600000  # 14일

# OAuth2 (플레이스홀더 - 실제 키는 환경변수로 설정)
oauth2:
  kakao:
    client-id: ${KAKAO_CLIENT_ID:your-kakao-client-id}
    redirect-uri: ${KAKAO_REDIRECT_URI:http://localhost:8080/api/v1/auth/callback/kakao}
  google:
    client-id: ${GOOGLE_CLIENT_ID:your-google-client-id}
    client-secret: ${GOOGLE_CLIENT_SECRET:your-google-client-secret}
    redirect-uri: ${GOOGLE_REDIRECT_URI:http://localhost:8080/api/v1/auth/callback/google}

# AWS
aws:
  s3:
    enabled: false
    bucket: conti-files
    region: ap-northeast-2
  access-key: ${AWS_ACCESS_KEY:your-access-key}
  secret-key: ${AWS_SECRET_KEY:your-secret-key}

# Server
server:
  port: 8080

# Springdoc
springdoc:
  swagger-ui:
    path: /swagger-ui.html
    tags-sorter: alpha
    operations-sorter: alpha
  api-docs:
    path: /v3/api-docs

# Logging
logging:
  level:
    com.conti: DEBUG
    org.hibernate.SQL: DEBUG
    org.hibernate.type.descriptor.sql.BasicBinder: TRACE
